# Simulador SimuS 

O SimuS é um simulador desenvolvido para o processador didático Sapiens, detalhado no livro *Arquitetura de Computadores - Uma Introdução* (Editora LTC - 2024). Este livro é fruto da vasta experiência dos autores ao longo de anos ministrando cursos de graduação em áreas tecnológicas. Sua missão é apresentar, de maneira acessível, o funcionamento dos computadores a alunos de disciplinas de Organização ou Arquitetura de Computadores, abrangendo cursos como Bacharelado em Ciência da Computação, Engenharia de Computação, Bacharelado em Sistemas de Informação, Licenciatura em Computação, Cursos Superiores de Tecnologia e, mais recentemente, Ciência de Dados.

A computação, como ciência básica e aplicada, testemunhou notáveis avanços ao longo do tempo, refletindo-se nas constantes inovações nos componentes e na organização dos computadores. A atualização dos materiais didáticos para o ensino da organização e arquitetura de computadores é vital, assegurando uma compreensão sólida para os estudantes de computação.

O domínio dos princípios fundamentais da operação dos computadores e da tecnologia incorporada é essencial, não apenas para aqueles que projetarão novos computadores, mas também para os que os utilizarão. O livro destaca a importância de exemplos de programas em linguagem de montagem para esclarecer o conjunto de instruções e o funcionamento do processador. Utiliza um processador didático simples, possibilitando experimentações por meio de um simulador didático gratuito.

A capa do livro, apresentando uma pilha de pedras conhecida como moledro ou cairn, simboliza coragem e perseverança, orientando o viajante na direção correta. Ao longo da história, esses marcos representaram a superação de obstáculos e a transformação de desafios em conquistas, enfrentando tempestades com firmeza e transmitindo serenidade.

Na pré-história, essas estruturas marcavam caminhos e túmulos, enquanto na Era Moderna continuam a ser erguidas para indicar rotas seguras e celebrar conquistas. A variedade de tamanhos reflete a criatividade humana, cada marco carregando memórias de sacrifícios e triunfos, análogos à jornada de explorar a arquitetura de computadores, um campo inovador do conhecimento humano.

Este livro, fundamentado na expertise dos autores em diversos cursos de graduação, tem como objetivo explicar o funcionamento do computador de forma compreensível, alinhando-se às diretrizes curriculares do Ministério da Educação e da Sociedade Brasileira de Computação. Com uma visão prática e aprofundada, busca aprimorar o ensino da disciplina de Arquitetura e Organização de Computadores, proporcionando uma base sólida e valiosa aos alunos.

O uso de exemplos de programas em linguagem de montagem é enfatizado como crucial para a compreensão, e para isso, é disponibilizado um simulador didático gratuito no repositório [Simulador Simus](https://github.com/Simulador-Simus/SimuS), contendo código-fonte, executáveis para diversos sistemas operacionais e um manual detalhado. Além disso, todos os exemplos em linguagem de montagem utilizados no livro e respostas para os exercícios propostos no Capítulo de Linguagem de Montagem estão disponíveis no mesmo repositório.

Outros tópicos importantes também abordados neste livro são:  a organização funcional e características internas do processador para a interpretação e execução do conjunto de instruções; as técnicas utilizadas para a sua implementação com uso do pipeline; os tipos de unidade de controle, com as técnicas de microprogramação clássica e diretamente pelo hardware; o sistema de memória; as estruturas de barramentos; a comunicação e funcionamento de diversos periféricos, incluindo o acesso direto à memória e outras formas de aquisição de dados externos ao processador. Diversos exercícios com soluções são propostos ao final de cada capítulo.
Este livro está organizado da seguinte maneira:

Capítulo 1 --- A Informação e sua Representação: Ao contrário do ser humano, que se utiliza da base dez como seu sistema de numeração,  o computador utiliza o sistema binário, particularmente devido à forma como os dispositivos que o controlam têm sido implementados, desde os primórdios da computação.  Compreender a forma como a informação é traduzida para o mundo binário e como é manipulada pelo processador é um requisito fundamental para a compreensão do funcionamento do computador. Neste capítulo são apresentados os sistemas de numeração, com noções de base de numeração e mudança de base, operações lógicas e aritméticas no formato binário, representação de caracteres no computador, formatos de representação números inteiros e fracionários (ponto fixo e  ponto flutuante). 

Capítulo 2 --- Breve Histórico da Computação:  Neste capítulo apresentamos um breve histórico da computação, sua evolução desde a idade antiga até os nossos dias. São abordados os aspectos históricos que precederam a computação moderna, incluindo os primeiros computadores eletromecânicos. Em seguida são apresentadas as tecnologias e avanços associados a cada geração de computadores, desde a década de 1940, com alguns exemplos de caso, incluindo supercomputadores. Damos especial destaque para a história da computação no Brasil, com os principais projetos industriais e acadêmicos desenvolvidos no país. 

Capítulo 3 --- Organização do Computador e do Processador: Apresentamos uma explanação do computador e seus elementos básicos: o processador, a memória e o sistema de entrada e saída. Incluímos informações sobre o modelo convencional de Von Neumann e suas transformações ao longo do tempo, como o modelo de barramento de sistema e o uso dos atuais controladores encapsulados em um único circuito integrado. Os diversos detalhes sobre a arquitetura do processador são descritos, tais como as unidades de controle, modos de endereçamento, organização dos dados na memória. Além disso, os diversos tipos de arquitetura de computadores são diferenciados: arquitetura de pilha, de acumulador, memória-memória, registrador-memória e registrador-registrador. Não faltando ainda a comparação entre as arquiteturas do tipo RISC e CISC.  Este capítulo tem como objetivo ambientar o estudante com a solução tradicional de arquitetura elaborada pelos cientistas e engenheiros para solucionar de forma automatizada problemas mais diversos da vida do homem moderno. Apresentamos também detalhes sobre arquitetura do processador Sapiens, uma arquitetura de acumulador de 8 bits, didática e de fácil compreensão, utilizada como referência para os exemplos neste livro.

Capítulo 4 --- Memória Principal e Hierarquia de Memória: Este capítulo realiza uma discussão abrangente sobre o sistema de hierarquia de memória dos computadores. Apresentamos as tecnologias dos diversos tipos de memória utilizados nos computadores, quais sejam: memórias estáticas e dinâmicas, de acesso sequencial e aleatórias, síncronas e assíncronas, voláteis e não-voláteis. Sobre este último tipo, descrevemos detalhes sobre a implementação das memórias Flash, de uso bastante disseminado também na memória secundária dos computadores. A hierarquia de memória é detalhada, com conceitos importantes como localidade, tempo médio de acesso, formas de organização da memória cache, incluindo caches virtuais e físicas, multinível, as políticas de escrita com acerto e com falha e o funcionamento da memória virtual.

Capítulo 5 --- Entrada e Saída, Barramentos e Redes de Comunicação: Esse é um capítulo muito importante, cujo conteúdo é muitas vezes negligenciado, onde apresentamos os conceitos básicos de funcionamento e programação da entrada e saída; tratamento de  exceções e interrupções; transferência de dados com acesso direto à memória (DMA);  formas serial e paralela de transmissão da informação;  detecção e correção de erros; a estrutura e organização dos barramentos de entrada e saída com diversos exemplos práticos de padrões e protocolos: PCI Express, USB, SATA, VGA, HDMI, entre outros. Abordamos também as características principais dos padrões de redes de comunicação em fibra óptica, com fio metálico e sem fio utilizados para interligar os computadores entre si e aos seus periféricos.

Capítulo 6 --- Armazenamento e Periféricos : Iniciamos esse capítulo com a apresentação das diversas formas de iniciar o funcionamento do computador, com destaque para o padrão BIOS e UEFI. Em seguida, o principal elemento do armazenamento secundário, ainda o disco rígido, é descrito em detalhes como estrutura interna, desempenho e esquemas de particionamento. Não menos importante atualmente, os dispositivos de estado sólido (SSD) são apresentados, assim como enumerados outros dispositivos de armazenamento secundário já não tão importantes atualmente. As principais formas de organização dos discos rígidos e SSDs em arranjos para melhorar a sua confiabilidade e desempenho, tais como RAID 0, RAID 1, RAID 01, RAID 10, RAID 5 e RAID 6 são descritas para o leitor.  Continuando, as possíveis formas de organização dos sistemas de armazenamento, como DAS, NAS e SAN são detalhadas e suas diferenças explicitadas, sem esquecer o uso do armazenamento em nuvem, se uso cada vez mais abrangente. Finalmente, apresentamos detalhes de alguns periféricos mais utilizados nos computadores modernos, tais como teclados, mouse, impressoras e monitores de vídeo. 

Capítulo 7 --- Programação em Linguagem de Montagem: Eventualmente o estudante estará familiarizado com alguma linguagem de alto nível e é interessante que ele compreenda todo o processo de transformação do código até obter-se o programa executável, que é carregado na memória e executado pelo processador. Este capítulo apresenta os conceitos de compilador, montador, ligador e carregador, entre outros programas encarregados dessa transformação. Neste capítulo realizamos também uma breve explanação de como os processadores podem ser programados para realizar as tarefas que desejamos. São apresentados exemplos de programação em linguagem de montagem, começando com exemplos bastante simples de atribuição, decisão e laços; seguidos de exemplos para o acesso de um vetor em memória, chamada de subrotinas e passagem de parâmetros na pilha, terminando com exemplos com uso de E/S com a instrução **TRAP**. Sem perda de generalidade, estaremos utilizando a linguagem ''C'' em nossos exemplos, mostrando como trechos de código são convertidos para a linguagem de montagem.


Capítulo 8 --- Arquiteturas Avançadas: Neste capítulo são apresentadas as inovações mais significativas, em nosso ponto de vista, introduzidas ao longo da linha do tempo nas arquiteturas dos computadores e processadores. Entre essas, destacamos primeiramente, o uso da técnica de pipeline, que permitiu um aumento significativo do desempenho dos processadores; sendo apresentado como estudo de caso o processador MIPS R2000.  Realizamos em seguida uma descrição dos processadores *superpipelined*, com o processador Pentium 4 sendo utilizado como exemplo. Colocamos também detalhes sobre as arquiteturas que despacham e executam mais de uma instrução por ciclo de relógio, como as arquiteturas superescalares, com o processador ARM Cortex A72 como exemplo;   VLIW, com uma descrição do processador Itanium IA-64; *multithreading*, cujo estudo de caso é o processador IBM Power 5. Apresentamos também os aceleradores, utilizando a GPU Kepler como exemplo.  Finalmente, realizamos uma breve análise sobre os diversos tipos de arquiteturas paralelas, baseadas nos modelos básicos do tipo SIMD e MIMD, com memória compartilhada e distribuída, sendo que detalhes do supercomputador Netuno, instalado e utilizado na UFRJ entre 2008 e 2018 são apresentados. 

Gostaríamos de agradecer as valiosas contribuições, os comentários construtivos e toda a paciência de nossos alunos durante a fase de desenvolvimento desta ferramenta. Sem isso, nem este livro, nem o simulador SimuS, não poderiam ter a qualidade e versatilidade que possui hoje em dia. Esperamos que este livro possa ser uma contribuição para a melhoria do ensino da disciplina de Arquitetura e Organização de Computadores e todas as suas variantes.

